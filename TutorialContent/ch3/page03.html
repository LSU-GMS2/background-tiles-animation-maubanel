<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
	<head>
		<!-- EDIT THIS-->
		<title>Tutorial - GameMaker Backgrounds & Sprites - Ch3 - Page 3</title>
		<!-- DO NOT EDIT THIS-->
		<meta http-equiv="X-UA-Compatible" content="IE=9" />
		<link rel="stylesheet" href="../style.css" type="text/css" media="screen" title="style" charset="UTF-8"/>
		<script type="text/javascript">
			var changePage = function(){
				var newPage = document.getElementById("page-select");
				window.location.replace(newPage.value);
				}
		</script>

	</head>

<!-- EDIT THIS - This section is where you can add an index to your tutorial -->
<body>
<!-- EDIT THIS - Your Tutorial title -->
	<h2 style="border-radius:0.5em 0.5em 0 0; margin:0;">Tutorial - Backgrounds & Sprites</h2>
<!-- EDIT THIS - Here you list the pages in your tutorial, with the current one at the top -->
		<div class="head">
			<select id="page-select" onChange="changePage()">
				<optgroup label="Chapter 2 - Image Formats">
				</optgroup>
				<optgroup label="Chapter 3 - Background and Tiles">
					<option value="page03.html">Auto Tile Template</option>
					<option value="page04.html">Tile Brushes</option>
					<option value="page05.html">Animated Tiles</option>
					<option value="page06.html">Transparent Tiles</option>
				</optgroup>
				<optgroup label="Chapter 4 - Animated Sprites">
					<option value="../ch4/page01.html">Animations</option>
					<option value="../ch4/page02.html">Importing Animations</option>
					<option value="../ch4/page03.html">Player Movement</option>
				</optgroup>
				<optgroup label="---Previous Pages">
					<optgroup label="Chapter 1 - Overview">
						<option value="../page01.html"><b>Overview</b></option>
					</optgroup>
				<optgroup label="Chapter 2 - Image Formats">
					<option value="../ch2/page01.html">Pixel Graphic Formats</option>
					<option value="../ch2/page02.html">Handling JPGs</option>
					<option value="../ch2/page03.html">Handling GIFs and other Formats</option>
					<option value="../ch2/page04.html">Raster and Vector</option>
				</optgroup>
				<optgroup label="Chapter 3 - Background and Tiles">
					<option value="page01.html">Background with Single Tile</option>
					<option value="page02.html">Creating your First Tile Set</option>
					</optgroup>
				</optgroup>
			</select>
		</div>
	
<!-- EDIT THIS - Main tutorial body goes here -->
<div class="body-scroll">
	<p>
	If you want to see tutorial in a separate web browser window <a href="gms2tutorials:///openBrowser">click here</a>.
	
	<p style="color:rgb(85, 109, 130)">
	<b>Auto Tile Template</b>
		
	<p>
		Auto tiling allows us to more quickly paint a transition between two tiles.  It allows for much quicker level design.

	<p>
		There are two auto tile configurations.  We are going to use the 16 tile configuration that is good for top down games. 

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/TileTemplates.jpg" alt="Show two auto tile configurations available in gamemaker studio">		

	<p>
		I have included a PSD (photoshop file) with a grass and sand tile.  I have included masks for all the transitional states. You can find it in <tt><b>Included Files | TutorialResources | Photoshop | AutoTileTemplate.psd </b></tt>.  If you can't find it you can locate the file in the browser (or click <a href="gms2tutorials:///ShowFiles?path=../TutorialResources/Photoshop/AutoTileTemplate.psd">here</a>). Open AutoTileTemplate.psd.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/SprBackGroundTIlesPSD.png" alt="Open AutoTileTemplate.psd from Included Files/TutorialResources/Photoshop ">		
		
	<p>
		The Photoshop file should have 16 layers in it starting at the top with the 1st grass layer with the one at the bottom being sand.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/SixteenLayerPhotoshopFile.png" alt="Look at all the layers in AutoTileTemplate.psd">		
		
	<p>
		Make sure you have the bottom sand layer selected.  Now you will start with the first layer and select all and choose <tt><b>Edit | Copy Merged</b></tt> (if you just copy you will only grab one layer, we want to have at least two layers copied for most of these tiles).  Then paste it into the second row of your <tt><b>spr_background_tiles.psd</b></tt> file that has your previous work.  

	<p>
		Work you way down to the second from the top selected and the sand layer at the bottom. Notice that the masks will allow certain parts of the foreground to appear over the background. Copy merged and paste back into the other sheet.  Repeat this for all 16 frames:
	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/ExportAllSixteenTiles.gif" alt="Add each layer of transition from AutoTileTemplate.psd to tile sheet in Photoshop">
	
	<p> Export the tiles again from Photoshop as a png.  Double click on <tt><b>spr_background_tiles</b></tt> in GameMaker and re-import the tilesheet with the grass to sand transition.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/TilesWithGrassToSand.png" alt="Reexport and import spr_background_tiles">


	<p>
		Double click <tt><b>tls_background_tiles</b></tt> and press the <tt><b>Auto Tiling</b></tt> button.  This puts up the autotiling node.  Click on the <tt><b>plus</b></tt> symbol next to 16.  Then if you put the layers in order it should be from the solid grass all the way to sand, assign each layer. Look at the which pattern is light and dark and make sure that one is consistently sand and the other is consistently grass.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/SetUpAutoTiling.gif" alt="Assign tiles to 16 patter auto tile in tls_background_tiles">

	<p>
		Name this auto tile under the <tt><b>Library</b></tt> tab <tt><b>auto_grass_to_sand</b></tt>. This will be grass surrounded by sand.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/GrassToSand.png" alt="Name this auto_grass_to_sand under Library">


	<p>
		Create a new room and call it <tt><b>rm_lvl_test_2</b></tt>.  Move it to the top of the list. Add a new <tt><b>Tile</b></tt> layer called <tt><b>Tiles_Background</b></tt>.  Place it beneath the <tt><b>Instance</b></tt> layer:
<h3><tt><b>rm_lvl_test_2</b></tt></h3>
	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/SecondTestRoom.png" alt="Create a room called rm_lvl_test_2 and add tile layer Tiles_Background">

	<p>
		Make sure you are on the <tt><Tiles_Brackground</tt> layer.  Now the tile on the left will be inside the tile on the right.  So lets select the paint bucket tool on the top toolbar and fill the entire level with sand.  Then we can go in and paint with grass inside by selecting the auto tile tool.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/GrassInsideSand.gif" alt="Select tiles background layer and fill room with sand">


	<p>
		Now what happens if we want to paint sand inside of grass?  We have all the tiles we need (all mirrored tiles) except for two diagonal pieces. We need them with grass diagonals.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/TwoSandDiagnoals.png" alt="Use auto tile to paint sand inside of grass">
		
	<p>
		Go back to Photoshop and our grass to sand file.  Duplicate the top grass layer twice and drag both layers to the bottom on top of the sand.  Name these layers <tt><b>Frame 17</b></tt> and <tt><b>Frame 18</b></tt>.  
		
	<p>
		We need to copy and paste the two diagonal masks to these grass layers.  You can do this by dragging them from the previous layers by clicking on the mask while pressing Alt (PC) or Option (Mac) to copy to another layer.  Drag it over the new grass layer you built. Do this for both diagonal masks.
		
		<p>
		Now we want grass inside of sand so we want to reverse the mask.  We do this by double clicking on the mask then press the <tt><b>Reverse</b></tt> button.  Do this for both masks and check tha they both has grass inside of sand.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/AddTwoReverseTilesInPS.gif" alt="Create two inverted diagonl tiles for inverse of grass inside of sand">
		
	<p>
		Copy merged and paste these two layers onto your photoshop tilesheet.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/AddTwoOppositeDiags.png" alt="Copy merged into the tilesheet these two inverted tiles">

	<p>
		Export and reimport this into gamemaker.  Go back to your tilesheet and create another 16 auto tile section.  Assign the opposite of the grass to sand in the sand to grass configuration.  Double check your work at the end.  Each tile should mirror the one above.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/MakeOppositeGrassSand.gif" alt="Export new tilesheet to gamemaker.  Create another auto tile with the opposite of sand to grass">
		
	<p>
		Name the autotile <tt><b>auto_sand_to_grass</b></tt>:
	
	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/AutoSandToGrass.png" alt="Name autotile sand_to_grass">
		
	<p>
		Go back to <tt><b>rm_lvl_test_2</b></tt> and select the eraser. Make the brush size larger than one.  Delete the room.  Put the brush back to a size of 1.  Now fill the room with grass.  Go to the <tt><b>Libraries</b></tt> tab and select the newly created <tt><b>auto_sand_to_grass</b></tt> tile.  Then paint sand inside of grass.  Now you can change the autotiler then paint grass inside of sand again allowing for a quicker way of assembling levels.

	<p>
		<img class="center" src="http://marcaubanel.com/gamemaker/GMS2-Images/Backgrounds-Tiles-Sprites/CH3/OppositePatternInRoom.gif" alt="Go back to rm_lvl_test_2 and select eraser to erase level then paint grass inside of sand.">

</div>

<br>
</p>
<p>

</div>

<div class="footer">
	<div class="buttons">
		<div class="clear">
			<div style="float:left">
				<a href="page02.html"  class="prev">
				<div id="button-prev"></div> 
				</a>
			</div>
			<div style="float:right"> <!-- Set the next page to go to here -->
				<a href="page04.html" class="next">
					<div id="button-next"></div>
				</a>
			</div>
		</div>	
	</div>
<!-- Footer copyright notice - set this to your own or whatever is required (remove the text but leave the <h5> tags to just have the bar) -->
<h5>&copy; Copyright Mauby Games 2018</h5>
</div>

</body>
</html>



